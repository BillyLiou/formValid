{"version":3,"file":"aa-compare-equal.js","sources":["ng://aa-compare-equal/lib/compareEqual.ts","ng://aa-compare-equal/lib/compare-equal.directive.ts","ng://aa-compare-equal/lib/valid-mail.directive.ts","ng://aa-compare-equal/lib/aa-compare-equal.module.ts"],"sourcesContent":["import { ValidatorFn, AbstractControl, Validators, ValidationErrors, RangeValueAccessor } from '@angular/forms';\n\nconst mailFormat = new RegExp('^[a-zA-Z0-9.-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$');\n\nexport function compareEqual(controlName: string): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    if (!control.parent || control.parent.get(controlName).value === control.value) {\n      return null;\n    } else {\n      return { compareEqual: true };\n    }\n  };\n}\n\nexport function verifyMailFormat(): ValidatorFn {\n  return (control: AbstractControl): ValidationErrors | null => {\n    if (mailFormat.test(control.value)) {\n      return null;\n    } else {\n      return { emailFormat: true };\n    }\n  };\n}\n","import { Directive, ElementRef, forwardRef, Input } from '@angular/core';\nimport { NG_VALIDATORS, Validator, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { compareEqual } from './compareEqual';\n\nconst COMPARE_EQUAL_VALIDATOR: any = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => CompareEqualDirective),\n  multi: true\n};\n\n@Directive({\n  selector: '[aaCompareEqual]',\n  providers: [COMPARE_EQUAL_VALIDATOR]\n})\nexport class CompareEqualDirective implements Validator {\n  @Input() aaCompareEqual;\n  validate(control: AbstractControl): ValidationErrors {\n    return compareEqual(this.aaCompareEqual)(control);\n  }\n\n  constructor(private el: ElementRef) {\n    this.el.nativeElement.style.color = 'red';\n  }\n\n\n}\n","import { Directive, forwardRef, HostListener } from '@angular/core';\nimport { NG_VALIDATORS, Validator, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { verifyMailFormat } from './compareEqual';\n\nconst COMPARE_EQUAL_VALIDATOR: any = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => ValidMailDirective),\n  multi: true\n};\n\n@Directive({\n  selector: '[aaValidMail]',\n  providers: [COMPARE_EQUAL_VALIDATOR]\n})\nexport class ValidMailDirective implements Validator {\n  validate(control: AbstractControl): ValidationErrors {\n    return verifyMailFormat()(control);\n  }\n\n  constructor() { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CompareEqualDirective } from './compare-equal.directive';\nimport { ValidMailDirective } from './valid-mail.directive';\n\n\n\n@NgModule({\n  declarations: [CompareEqualDirective, ValidMailDirective],\n  imports: [\n    FormsModule\n  ],\n  exports: [CompareEqualDirective, ValidMailDirective]\n})\nexport class AaCompareEqualModule { }\n"],"names":["COMPARE_EQUAL_VALIDATOR"],"mappings":";;;;;;;;;IAEM,UAAU,GAAG,IAAI,MAAM,CAAC,oDAAoD,CAAC;;;;;AAEnF,SAAgB,YAAY,CAAC,WAAmB;IAC9C;;;;IAAO,UAAC,OAAwB;QAC9B,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK,OAAO,CAAC,KAAK,EAAE;YAC9E,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;SAC/B;KACF,EAAC;CACH;;;;AAED,SAAgB,gBAAgB;IAC9B;;;;IAAO,UAAC,OAAwB;QAC9B,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YAClC,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;SAC9B;KACF,EAAC;CACH;;;;;;;ACtBD;IAIM,uBAAuB,GAAQ;IACnC,OAAO,EAAE,aAAa;IACtB,WAAW,EAAE,UAAU;;;IAAC,cAAM,OAAA,qBAAqB,GAAA,EAAC;IACpD,KAAK,EAAE,IAAI;CACZ;AAED;IAUE,+BAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;QAChC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;KAC3C;;;;;IAND,wCAAQ;;;;IAAR,UAAS,OAAwB;QAC/B,OAAO,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,CAAC;KACnD;;gBARF,SAAS,SAAC;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,SAAS,EAAE,CAAC,uBAAuB,CAAC;iBACrC;;;;gBAbmB,UAAU;;;iCAe3B,KAAK;;IAUR,4BAAC;CAfD,IAeC;;;IAVC,+CAAwB;;;;;IAKZ,mCAAsB;;;;;;;;ACpBpC;IAIMA,yBAAuB,GAAQ;IACnC,OAAO,EAAE,aAAa;IACtB,WAAW,EAAE,UAAU;;;IAAC,cAAM,OAAA,kBAAkB,GAAA,EAAC;IACjD,KAAK,EAAE,IAAI;CACZ;AAED;IASE;KAAiB;;;;;IAJjB,qCAAQ;;;;IAAR,UAAS,OAAwB;QAC/B,OAAO,gBAAgB,EAAE,CAAC,OAAO,CAAC,CAAC;KACpC;;gBAPF,SAAS,SAAC;oBACT,QAAQ,EAAE,eAAe;oBACzB,SAAS,EAAE,CAACA,yBAAuB,CAAC;iBACrC;;;;IAQD,yBAAC;CAXD;;;;;;;ACVA;IAOA;KAOqC;;gBAPpC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,qBAAqB,EAAE,kBAAkB,CAAC;oBACzD,OAAO,EAAE;wBACP,WAAW;qBACZ;oBACD,OAAO,EAAE,CAAC,qBAAqB,EAAE,kBAAkB,CAAC;iBACrD;;IACmC,2BAAC;CAPrC;;;;;;;;;;;;;;;;"}